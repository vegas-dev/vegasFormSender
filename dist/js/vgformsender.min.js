window.AlertFormSender={Svg:{error:"<svg viewbox=\"0 0 500 500\" class=\"am_Error_Icon\"><path class=\"am_SVG_circle\" d=\"m444.34693,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path><line class=\"am_SVG_error1\" y2=\"390\" x2=\"390\" y1=\"110\" x1=\"110\"></line><line class=\"am_SVG_error2\" y2=\"390\" x2=\"110\" y1=\"110\" x1=\"390\"></line></svg>",success:"<svg viewbox=\"0 0 500 500\" class=\"am_Success_Icon\"><path class=\"am_SVG_circle\" d=\"m443.0136,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483\"></path><polyline class=\"am_SVG_check\" points=\"104.4892349243164,309.2001647949219 195.57406616210938,402.9600524902344 418.9292297363281,85.03718566894531 \"></polyline></svg>",cross:"<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 224.512 224.512\" style=\"enable-background:new 0 0 224.512 224.512;\" xml:space=\"preserve\"><g><polygon style=\"fill:#010002;\" points=\"224.507,6.997 217.521,0 112.256,105.258 6.998,0 0.005,6.997 105.263,112.254 0.005,217.512 6.998,224.512 112.256,119.24 217.521,224.512 224.507,217.512 119.249,112.254 \"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>"},boot_version:4,modal:function(a){let b,c;b="success"===a?AlertFormSender.Svg.success:AlertFormSender.Svg.error,c=4<AlertFormSender.boot_version?"data-bs-dismiss=\"modal\"":"data-dismiss=\"modal\"";let d="<div class=\"modal fade vg-form-sender__modal\" id=\"modal-"+a+"\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-"+a+"\" aria-hidden=\"true\">    <div class=\"modal-dialog\" role=\"document\">        <div class=\"modal-content\">            <button type=\"button\" class=\"modal-close\" "+c+" aria-label=\"Close\">"+AlertFormSender.Svg.cross+"</button>                        <div class=\"vg-form-sender__modal--alert vg-form-sender__modal--alert-"+a+"\">"+b+"                <div class=\"title\"></div>                <div class=\"msg\"></div>            </div>        </div>    </div></div>";return $("body").append(d),!1},block:function(a,b){let c="success"===a?AlertFormSender.Svg.success:AlertFormSender.Svg.error;let d="<div class=\"vg-form-sender__block "+a+"\"><div class=\"icon\">"+c+"</div><div class=\"content\">   <div class=\"title\"></div>   <div class=\"msg\"></div></div></div>";b.after(d)},Action:{draw:function(a){let b=a.data("compare")||"modal";AlertFormSender.boot_version=a.data("bootstrap-version")||5,"modal"===b?(AlertFormSender.modal("success"),AlertFormSender.modal("error")):"block"===b&&($("body").find(".vg-form-sender__block").remove(),AlertFormSender.block("success",a),AlertFormSender.block("error",a))},success:function(a,b,c){this.draw(b),this.btn(b,!1,c),this.compare(a,b,c,"success")},error:function(a,b,c){this.draw(b),this.btn(b,!1,c),this.compare(a,b,c,"error")},beforeSend:function(a,b){this.btn(a,!0,b)},btn:function(a,b,c){let d,e=a.find("[type=submit]");d=b?e.data("text-send")||LangFormSender[c.lang].alert.text_send:e.data("btn-text")||LangFormSender[c.lang].alert.btn_text,e.attr("disabled",b).find("span").text(d)},compare:function(a,b,c,d){let e,f=b.find("[type=submit]"),g=b.data("compare")||"modal";if(e="success"===d?f.data("success-text")||LangFormSender[c.lang].alert.success_title:f.data("error-text")||LangFormSender[c.lang].alert.error_title,"modal"===g){let b=$("#modal-"+d);$(".modal").modal("hide"),AlertFormSender.text(a,e,b),b.modal("show")}else if("block"===g){let b=$(".vg-form-sender__block."+d);b.addClass("show"),AlertFormSender.text(a,e,b)}}},text:function(a,b,c){c.find(".msg").html(a),c.find(".title").html(b)}};
$(document).ready(function(){let a=$("[data-vgformsender]"),b="undefined"!=typeof VEGASFORMSENDER_INIT;b?!VEGASFORMSENDER_INIT&&(b=!1):b=!0,b&&a.vegasFormSender({beforeSend:function(a,b){AlertFormSender.Action.beforeSend(a,b)},success:function(a,b,c){a.error?AlertFormSender.Action.error(a.msg,b,c):AlertFormSender.Action.success(a.msg,b,c)},error:function(a,b,c){AlertFormSender.Action.error(a,b,c)},validate:function(a,b,c){ValidateFormSender.init(c,a,b)}})});
(function(a){a.fn.vegasFormSender=function(b){function c(b){let c={empty:[],email:[],password:[],checkbox:[],select:[],radio:[]};if(b.each(function(){let b=a(this);if(""===b.val())c.empty.push(b);else if("checkbox"===b.attr("type")&&!b.is(":checked"))c.checkbox.push(b);else if("radio"===b.attr("type"))c.radio.push(b);else if("SELECT"===b[0].tagName){let d=a(this).attr("multiple");if("undefined"!=typeof d&&!1!==d)b.find("option:selected").length||c.select.push(b);else{let a=b.find("option:selected").attr("value");a||c.select.push(b)}}else{let a=b.data("validate");"email"!==a||d(b.val())||c.email.push(b),"password"===a&&c.password.push(b)}}),1<c.password.length){let a=[];for(let b,d=1;d<=c.password.length;d++)b=c.password[d-1],a.push(b.val());a=a.filter(function(a,b,c){return c.indexOf(a)===b}),1===a.length&&(c.password=[])}if(c.radio.length){let b=[],d=[];a.each(c.radio,function(){b.push(a(this).attr("name"))}),b=b.filter(function(a,b,c){return c.indexOf(a)===b}),a.each(b,function(b,e){d.push({name:e,self:[]}),a.each(c.radio,function(){let c=a(this).attr("name");d[b].name===c&&d[b].self.push(a(this))})}),a.each(d,function(b){let c=0;a.each(d[b].self,function(){let b=a(this);b.is(":checked")||c++}),d[b].self.length!==c&&(d[b].self=[])}),c.radio=[],a.each(d,function(b){a.each(d[b].self,function(){c.radio.push(a(this))})})}return c}function d(a){return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test((a+"").toLowerCase())}return b=a.extend({error:function(){},success:function(){},beforeSend:function(){},validate:function(){}},arguments[0]||{}),this.each(function(){let d=a(this),e={action:b.action||d.attr("action")||location.href,method:b.method||d.attr("method")||"get",fields:!!b.fields&&b.fields,jsonParse:b.jsonParse||d.data("json-parse")||!1,lang:b.lang||d.data("lang")||"ru",redirectSuccess:b.redirectSuccess||d.data("redirect-success")||!1,redirectError:b.redirectError||d.data("redirect-error")||!1};e.fields&&"function"==typeof e.fields&&(e.fields=b.fields());let f={lang:e.lang};d.addClass("vg-form-sender");let g=d.find("input, select, textarea");g.each(function(){a(this).parent("div").addClass("vg-form-sender__selector")}),d.on("submit",function(){let g=new FormData(this),h=a(this).find("[data-validate]"),i=!0;if(h.length){let a=c(h);b.validate.call(this,d,f,a),(a.empty.length||a.email.length||a.password.length||a.checkbox.length||a.radio.length||a.select.length)&&(i=!1)}if(i){if(e.fields)for(let a in e.fields)if("object"==typeof e.fields[a])for(let b in e.fields[a]){let c=Object.keys(e.fields[a][b]).map(function(c){return e.fields[a][b][c]});g.append(a,c)}else g.append(a,e.fields[a]);a.ajax({url:e.action,method:e.method,data:g,cache:!1,contentType:!1,processData:!1,beforeSend:function(){b.beforeSend.call(this,d,f),d.trigger("before-send")},success:function(a){let c;d.trigger("submit-success"),c=e.jsonParse?JSON.parse(a):a,e.redirectSuccess?window.location.href=e.redirectSuccess:b.success.call(this,c,d,f)},error:function(a){let c,g=JSON.parse(a.responseText);d.trigger("submit-error"),c=g.errors?g.errors[Object.keys(g.errors)[0]][0]:g.message||g.msg,e.redirectError?window.location.href=e.redirectError:b.error.call(this,c,d,f)}})}return!1})})}})(jQuery);
window.LangFormSender={ru:{alert:{success_title:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E!",success_msg:"\u0412\u0430\u0448\u0435 \u043F\u0438\u0441\u044C\u043C\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E!",error_title:"\u041E\u0448\u0438\u0431\u043A\u0430!",text_send:"\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C...",btn_text:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"},validate:{empty:"\u042D\u0442\u043E \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435",email:"\u0412\u044B \u0432\u0432\u0435\u043B\u0438 \u043D\u0435 \u0432\u0435\u0440\u043D\u044B\u0439 email \u0430\u0434\u0440\u0435\u0441",password:"\u0412\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u043F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442",checkbox:"\u0427\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043B\u043E\u043B\u0436\u0438\u0442\u044C, \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u044D\u0442\u043E\u0442 \u0444\u043B\u0430\u0436\u043E\u043A",radio:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u0438\u043D \u0438\u0437 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432",select:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043D\u0442 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430"}},en:{alert:{success_title:"Success!",success_msg:"Your email has been successfully sent!",error_title:"Error!",text_send:"We send...",btn_text:"Send message"},validate:{empty:"This is a required field",email:"You entered an invalid email address",password:"The passwords entered do not match",checkbox:"Check this box to continue",radio:"Choose one of the options",select:"Choose an option from the list"}}};
window.ValidateFormSender={init:function(a,b,c){ValidateFormSender.removeError(b.find(".vg-form-sender__selector")),$.each(a,function(a,b){b.length&&$.each(b,function(d){let e=b[d],f=e.closest(".vg-form-sender__selector");f.addClass("error");let g=f.find("p");0===g.length&&f.append("<p>"+LangFormSender[c.lang].validate[a]+"</p>"),ValidateFormSender.setValue(e,f)})})},setValue:function(a,b){a.on("change",function(){return ValidateFormSender.removeError(b),!1})},removeError:function(a){a.removeClass("error"),a.find("p").remove()}};
