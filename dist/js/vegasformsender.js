window.AlertFormSender={lang:{ru:{success_title:"Успешно!",success_msg:"Ваше письмо успешно отправлено!",error_title:"Ошибка!",text_send:"Отправляем...",btn_text:"Отправить"}},Svg:{error:'<svg viewbox="0 0 500 500" class="am_Error_Icon"><path class="am_SVG_circle" d="m444.34693,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483"></path><line class="am_SVG_error1" y2="390" x2="390" y1="110" x1="110"></line><line class="am_SVG_error2" y2="390" x2="110" y1="110" x1="390"></line></svg>',success:'<svg viewbox="0 0 500 500" class="am_Success_Icon"><path class="am_SVG_circle" d="m443.0136,114.07007a236.95276,236.95276 0 0 1 44.1553,137.73747c0,129.97005 -106.94772,236.96443 -236.91777,236.96443s-236.91777,-106.94772 -236.91777,-236.91777s106.94772,-236.96443 236.91777,-236.96443a236.99941,236.99941 0 0 1 168.72548,70.59483"></path><polyline class="am_SVG_check" points="104.4892349243164,309.2001647949219 195.57406616210938,402.9600524902344 418.9292297363281,85.03718566894531 "></polyline></svg>',cross:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 224.512 224.512" style="enable-background:new 0 0 224.512 224.512;" xml:space="preserve"><g><polygon style="fill:#010002;" points="224.507,6.997 217.521,0 112.256,105.258 6.998,0 0.005,6.997 105.263,112.254 0.005,217.512 6.998,224.512 112.256,119.24 217.521,224.512 224.507,217.512 119.249,112.254 "/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},modal:function(e){var r;if(e==="success"){r=AlertFormSender.Svg.success}else{r=AlertFormSender.Svg.error}var a='<div class="modal fade vg-form-sender-modal" id="modal-'+e+'" tabindex="-1" role="dialog" aria-labelledby="modal-'+e+'" aria-hidden="true">'+'    <div class="modal-dialog" role="document">'+'        <div class="modal-content">'+'            <button type="button" class="modal-close white" data-dismiss="modal" aria-label="Close">'+AlertFormSender.Svg.cross+"</button>"+"            "+'            <div class="vg-sender-alert vg-sender-alert-'+e+'">'+r+'                <div class="title"></div>'+'                <div class="msg"></div>'+"            </div>"+"        </div>"+"    </div>"+"</div>";$("body").append(a);return false},block:function(e,r){var a,t=r.closest(r.data("parent"));if(e==="success"){a=AlertFormSender.Svg.success}else{a=AlertFormSender.Svg.error}var s='<div class="vg-form-sender-block '+e+'" style="display: none">'+'<div class="block-wrapper vg-sender-alert vg-sender-alert-'+e+'">'+a+'   <div class="title"></div>'+'   <div class="msg"></div>'+"</div>";t.after(s)},Action:{draw:function(e){var r=e.data("compvare")||"modal";if(r==="modal"){AlertFormSender.modal("success");AlertFormSender.modal("error")}else if(r==="block"){AlertFormSender.block("success",e);AlertFormSender.block("error",e)}},success:function(e,r){this.draw(r);var a=r.find("[type=submit]"),t=a.data("btn-text")||AlertFormSender.lang.ru.btn_text,s=r.data("compvare")||"modal",n=a.data("success-text")||AlertFormSender.lang.ru.success_title;a.attr("disabled",false).find("span").text(t);if(s==="modal"){var o=$("#modal-success");$(".modal").modal("hide");AlertFormSender.text(e,n,o);o.modal("show")}else if(s==="block"){var l=r.closest(r.data("parent")),d=$(".vg-form-sender-block.success");AlertFormSender.text(e,n,d);l.slideUp("slow");d.slideDown("slow")}},error:function(e,r){this.draw(r);var a=r.find("[type=submit]"),t=a.data("btn-text")||AlertFormSender.lang.ru.btn_text,s=r.data("compvare")||"modal",n=a.data("error-text")||AlertFormSender.lang.ru.error_title;a.attr("disabled",false).find("span").text(t);if(s==="modal"){var o=$("#modal-error");$(".modal").modal("hide");AlertFormSender.text(e,n,o);o.modal("show")}else if(s==="block"){var l=r.closest(r.data("parent")),d=$(".vg-form-sender-block.error");AlertFormSender.text(e,n,d);l.slideUp("slow");d.slideDown("slow")}},validate:function(e){$.each(e,function(){var e=$(this);e.addClass("error")})},beforeSend:function(e){var r=e.find("[type=submit]"),a=r.data("text-send")||AlertFormSender.lang.ru.text_send;r.attr("disabled",true).find("span").text(a)}},text:function(e,r,a){a.find(".msg").html(e);a.find(".title").html(r)}};$(document).ready(function(){var e=$("[data-vgFormSender]");e.vegasFormSender({beforeSend:function(e){AlertFormSender.Action.beforeSend(e)},success:function(e,r){AlertFormSender.Action.success(e.msg,r)},error:function(e,r){AlertFormSender.Action.error(e,r)},validate:function(e,r){ValidateFormSender.arrange(r,e)}});e.each(function(){var e=$(this);var r=e.find("input"),a=e.find("input[data-mask]");e.addClass("vg-form-sender");r.each(function(){$(this).parent("div").addClass("vg-form-sender__selector")});if(typeof $.fn.inputmask!=="undefined"){a.each(function(){var e=$(this),r=e.data("mask"),a=e.data("mask-complete")||false,t={clearIncomplete:a};if(r!==""&&r!=="undefined"){if(r==="phone"){t.mask="+79999999999"}else if(r==="birthday"){t.mask="99.99.9999"}else{t.mask=r}e.inputmask(t)}})}else{console.error("Plugin InputMask not installed")}})});(function(v){v.fn.vegasFormSender=function(u){u=v.extend({error:function(){},success:function(){},beforeSend:function(){},validate:function(){}},arguments[0]||{});var e=this;e.each(function(){var o=v(this),l=u.action||o.attr("action")||location.href,d=u.method||o.attr("method")||"get",i=u.fields?u.fields:false,c=u.redirectSuccess||o.data("redirect-success")||false,e=u.redirectError||o.data("redirect-error")||false;if(i&&typeof i=="function"){i=u.fields()}var f=true;o.on("submit",function(){var e=new FormData(this),r=v(this).find("[data-validate]");if(r.length){var a=m(r);u.validate.call(this,o,a);if(a.empty.length||a.email.length||a.password.length)f=false}if(f){if(i){for(var t in i){if(typeof i[t]==="object"){for(var s in i[t]){var n=Object.keys(i[t][s]).map(function(e){return i[t][s][e]});e.append(t,n)}}else{e.append(t,i[t])}}}v.ajax({url:l,method:d,data:e,cache:false,contentType:false,processData:false,beforeSend:function(){u.beforeSend.call(this,o)},success:function(e){var r=e;if(c){window.location.href=c}else{u.success.call(this,r,o)}},error:function(e,r){var a=JSON.parse(e.responseText);var t;if(a.errors){t=a.errors[Object.keys(a.errors)[0]][0]}else{t=a.message||a.msg}u.error.call(this,t,o)}})}return false});function m(e){var a={empty:[],email:[],password:[]};e.each(function(){var e=v(this);if(e.val()===""){a.empty.push(e)}else{var r=e.data("validate");if(r==="email"&&!n(e.val())){a.email.push(e)}if(r==="password"){a.password.push(e)}}});if(a.password.length>1){var r=[];for(var t=1;t<=a.password.length;t++){var s=a.password[t-1];r.push(s.val())}r=r.filter(function(e,r,a){return a.indexOf(e)===r});if(r.length===1){a.password=[]}}return a}function n(e){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.test(String(e).toLowerCase())}});return this}})(jQuery);window.ValidateFormSender={error:"error",arrange:function(e,r){r.find(".vg-form-sender__selector").removeClass(ValidateFormSender.error);$.each(e,function(e,t){if(t.length){$.each(t,function(e){var r=t[e],a=r.closest(".vg-form-sender__selector");a.addClass(ValidateFormSender.error)})}})},setValue:function(e){e.on("change",function(){$(this).removeClass("error").next("p").hide();return false})}};